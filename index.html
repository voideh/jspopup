<!DOCTYPE html>
<html>
<head>
<script src="js/jquery-3.10-min.js"></script>
<link href="css/style.css" rel="stylesheet">
</head>
<body>
<a href="x.jpg" id="popIt"><img src="s.jpg" class="popup"></a>
</body>

<script>
var doc = $("body");
var img = $(".popup");

var underDiv = '<div id="base"></div>'
var div = '<div class="popup"></div>'


$("a#popIt").bind('click', function(event)
{
	event.preventDefault();
	popUp(this);
});

function popUp(elem)
{
	doc.append(underDiv);
	$("#base").append(div);
	var img = '<img src="' + elem.href + '" id="pop">';
	$("div.popup").append(img);
	$("div.popup").append('<button id="quit">Close</button>');
	$("<img/>").attr("src", $("#pop").attr("src"))
		.on("load",function(){
			if(this.height > 900 && this.width > 900)
		{
			// resize the image...???
				$("#pop").css("height", "95%");
				$("#pop").after('<p class="caption">This image has been rescaled.</p>');
		}
		$("div.popup").css("height", this.height + 200);
		$("div.popup").css("width", this.width + 200);
		});	
	$("button#quit").click(function()
	{
		$("#base").remove();
	});
}

</script>
</html>
